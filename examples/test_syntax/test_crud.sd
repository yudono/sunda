import { render_gui, setState } from "gui"

function App() {
    const [items, setItems] = setState([
        { id: 1, name: "Apple", price: 100 },
        { id: 2, name: "Banana", price: 50 }
    ])

    return (
        <Page width="100%" height="100%" backgroundColor="#f5f5f5">
            <Column padding="20px">
                <Text fontSize="28px">Product List</Text>

                <View height="20px" />

                <Table>
                    <Thead>
                        <Tr>
                            <Th>ID</Th>
                            <Th>Name</Th>
                            <Th>Price</Th>
                            <Th>Actions</Th>
                        </Tr>
                    </Thead>
                    <Tbody>
                        <Tr>
                            <Td>{items[0].id}</Td>
                            <Td>{items[0].name}</Td>
                            <Td>{items[0].price}</Td>
                            <Td>
                                <Button onClick={() => {
                                    println("Edit: ", items[0].name)
                                }}>Edit</Button>
                            </Td>
                        </Tr>
                        <Tr>
                            <Td>{items[1].id}</Td>
                            <Td>{items[1].name}</Td>
                            <Td>{items[1].price}</Td>
                            <Td>
                                <Button onClick={() => {
                                    println("Edit: ", items[1].name)
                                }}>Edit</Button>
                            </Td>
                        </Tr>
                    </Tbody>
                </Table>

                <View height="20px" />

                <Button onClick={() => {
                    var newItem = { id: 3, name: "Orange", price: 75 }
                    items.push(newItem)
                    setItems(items)
                    println("Added: ", newItem.name)
                }}>Add Orange</Button>

                <View height="10px" />

                <Button onClick={() => {
                    var doubled = items.map((item) => {
                        return item.price * 2
                    })
                    println("Doubled prices: ", doubled)
                }}>Test Map</Button>

                <View height="10px" />

                <Button onClick={() => {
                    var expensive = items.filter((item) => {
                        if (item.price > 60) {
                            return 1
                        }
                        return 0
                    })
                    println("Expensive items: ", expensive)
                }}>Test Filter</Button>
            </Column>
        </Page>
    )
}

render_gui(App)
