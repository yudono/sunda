// ================================
// BASIC VARIABLE & CONTROL FLOW
// ================================

let a = 10
let b = 20

if (a < b) {
    print("a is smaller")
} else {
    print("b is smaller")
}

// ================================
// LOOP TEST
// ================================

for (let i = 0; i < 5; i = i + 1) {
    print("i =", i)
}

let x = 3
while (x > 0) {
    print("x =", x)
    x = x - 1
}

// ================================
// FUNCTION + RETURN
// ================================

function add(a, b) {
    return a + b
}

print(add(3, 4))

// ================================
// RECURSION (FACTORIAL)
// ================================

function factorial(n) {
    if (n <= 1) {
        return 1
    }
    return n * factorial(n - 1)
}

print(factorial(5))

// ================================
// FIBONACCI (ITERATIVE)
// ================================

function fibonacci(n) {
    let a = 0
    let b = 1

    for (let i = 0; i < n; i = i + 1) {
        let temp = a + b
        a = b
        b = temp
    }

    return a
}

print(fibonacci(10))

// ================================
// ARRAY + SORTING (BUBBLE SORT)
// ================================

let numbers = [5, 2, 9, 1, 3]

for (let i = 0; i < numbers.length; i = i + 1) {
    for (let j = 0; j < numbers.length - 1; j = j + 1) {
        if (numbers[j] > numbers[j + 1]) {
            let tmp = numbers[j]
            numbers[j] = numbers[j + 1]
            numbers[j + 1] = tmp
        }
    }
}

print(numbers)

// ================================
// OBJECT / MAP TEST
// ================================

let user = {
    id: 1,
    name: "Agus",
    active: true
}

user.age = 25
print(user.name)
print(user.age)

// ================================
// ARRAY OF OBJECTS
// ================================

let users = [
    { id: 1, name: "A" },
    { id: 2, name: "B" },
    { id: 3, name: "C" }
]

for (let i = 0; i < users.length; i = i + 1) {
    print(users[i].id, users[i].name)
}

// ================================
// SEARCH (LINEAR SEARCH)
// ================================

function find(arr, target) {
    for (let i = 0; i < arr.length; i = i + 1) {
        if (arr[i] == target) {
            return i
        }
    }
    return -1
}

print(find(numbers, 3))

// ================================
// STRING OPERATIONS
// ================================

let text = "hello"
text = text + " world"
print(text)

// ================================
// STATE-LIKE LOGIC
// ================================

let count = 0

function increment() {
    count = count + 1
}

increment()
increment()
print(count)

// ================================
// NESTED FUNCTION CALL
// ================================

function square(x) {
    return x * x
}

function sumSquare(a, b) {
    return square(a) + square(b)
}

print(sumSquare(3, 4))

// ================================
// SIMPLE CRUD SIMULATION
// ================================

let items = []

function createItem(name) {
    items.push({ id: items.length + 1, name: name })
}

function deleteItem(id) {
    let result = []
    for (let i = 0; i < items.length; i = i + 1) {
        if (items[i].id != id) {
            result.push(items[i])
        }
    }
    items = result
}

createItem("Apple")
createItem("Banana")
deleteItem(1)
print(items)
